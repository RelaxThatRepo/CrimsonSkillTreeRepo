\doxysection{Async\+Action\+\_\+\+Listen\+For\+CSTMessage.\+h}
\hypertarget{AsyncAction__ListenForCSTMessage_8h_source}{}\label{AsyncAction__ListenForCSTMessage_8h_source}\index{Source/CrimsonSkillTree/MessageSubsystem/AsyncAction\_ListenForCSTMessage.h@{Source/CrimsonSkillTree/MessageSubsystem/AsyncAction\_ListenForCSTMessage.h}}
\mbox{\hyperlink{AsyncAction__ListenForCSTMessage_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Fill\ out\ your\ copyright\ notice\ in\ the\ Description\ page\ of\ Project\ Settings.}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}CoreMinimal.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{CSTMessageSubsystem_8h}{CSTMessageSubsystem.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{CSTMessageTypes_8h}{CSTMessageTypes.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}GameplayTagContainer.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}Engine/CancellableAsyncAction.h"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}AsyncAction\_ListenForCSTMessage.generated.h"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }UScriptStruct;}
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }UWorld;}
\DoxyCodeLine{00015\ \textcolor{keyword}{struct\ }FFrame;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00022\ \mbox{\hyperlink{AsyncAction__ListenForCSTMessage_8h_aace0c780d23369ad4de67507d75ff75a}{DECLARE\_DYNAMIC\_MULTICAST\_DELEGATE\_TwoParams}}(FAsyncCSTMessageDelegate,\ \mbox{\hyperlink{classUAsyncAction__ListenForCSTMessage}{UAsyncAction\_ListenForCSTMessage}}*,\ ProxyObject,\ FGameplayTag,\ ActualChannel);}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00028\ UCLASS(BlueprintType,\ meta=(HasDedicatedAsyncNode))}
\DoxyCodeLine{00029\ class\ CRIMSONSKILLTREE\_API\ \mbox{\hyperlink{classUAsyncAction__ListenForCSTMessage}{UAsyncAction\_ListenForCSTMessage}}\ :\ public\ UCancellableAsyncAction}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \ \ \ \ GENERATED\_BODY()}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00041\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ Messaging,\ meta\ =\ (WorldContext\ =\ \textcolor{stringliteral}{"{}WorldContextObject"{}},\ BlueprintInternalUseOnly\ =\ \textcolor{stringliteral}{"{}true"{}}))}
\DoxyCodeLine{00042\ \ \ \ \ static\ \mbox{\hyperlink{classUAsyncAction__ListenForCSTMessage}{UAsyncAction\_ListenForCSTMessage}}*\ ListenForCSTMessages(UObject*\ WorldContextObject,\ FGameplayTag\ Channel,\ UScriptStruct*\ PayloadType,\ \mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77}{ECSTMessageMatch}}\ MatchType\ =\ \mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77}{ECSTMessageMatch}}::\mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77a9ba95bbc0af89aca6c6c6ac908cd4c27}{ExactMatch}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00051\ \ \ \ \ UFUNCTION(BlueprintCallable,\ CustomThunk,\ Category\ =\ "{}Messaging"{},\ meta\ =\ (CustomStructureParam\ =\ "{}OutPayload"{}))}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ GetPayload(UPARAM(ref)\ int32\&\ OutPayload);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ DECLARE\_FUNCTION(execGetPayload);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{CrimsonSkillTreeManager_8h_ae069d0581ad322d1f3d79d8b6db2cf9baa13367a8e2a3f3bf4f3409079e3fdf87}{Activate}}()\ override;}
\DoxyCodeLine{00057\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ SetReadyToDestroy()\ override;}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ public:}
\DoxyCodeLine{00061\ \ \ \ \ UPROPERTY(BlueprintAssignable)}
\DoxyCodeLine{00062\ \ \ \ \ FAsyncCSTMessageDelegate\ OnMessageReceived;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ private:}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ HandleMessageReceived(FGameplayTag\ Channel,\ const\ UScriptStruct*\ StructType,\ const\ \textcolor{keywordtype}{void}*\ Payload);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ private:}
\DoxyCodeLine{00068\ \ \ \ \ const\ \textcolor{keywordtype}{void}*\ ReceivedMessagePayloadPtr\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ TWeakObjectPtr<UWorld>\ WorldPtr;}
\DoxyCodeLine{00071\ \ \ \ \ FGameplayTag\ ChannelToRegister;}
\DoxyCodeLine{00072\ \ \ \ \ TWeakObjectPtr<UScriptStruct>\ MessageStructType\ =\ \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77}{ECSTMessageMatch}}\ MessageMatchType\ =\ \mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77}{ECSTMessageMatch}}::\mbox{\hyperlink{CSTMessageTypes_8h_ac0cf9e3fed894aacb3588986c976be77a9ba95bbc0af89aca6c6c6ac908cd4c27}{ExactMatch}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{structFCSTMessageListenerHandle}{FCSTMessageListenerHandle}}\ ListenerHandle;}
\DoxyCodeLine{00076\ \};}

\end{DoxyCode}
