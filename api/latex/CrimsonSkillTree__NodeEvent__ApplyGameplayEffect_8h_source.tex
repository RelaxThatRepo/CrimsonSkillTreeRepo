\doxysection{Crimson\+Skill\+Tree\+\_\+\+Node\+Event\+\_\+\+Apply\+Gameplay\+Effect.\+h}
\hypertarget{CrimsonSkillTree__NodeEvent__ApplyGameplayEffect_8h_source}{}\label{CrimsonSkillTree__NodeEvent__ApplyGameplayEffect_8h_source}\index{Source/CrimsonSkillTree/Events/CrimsonSkillTree\_NodeEvent\_ApplyGameplayEffect.h@{Source/CrimsonSkillTree/Events/CrimsonSkillTree\_NodeEvent\_ApplyGameplayEffect.h}}
\mbox{\hyperlink{CrimsonSkillTree__NodeEvent__ApplyGameplayEffect_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Fill\ out\ your\ copyright\ notice\ in\ the\ Description\ page\ of\ Project\ Settings.}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}CoreMinimal.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}ActiveGameplayEffectHandle.h"{}}\ \ \ \ \textcolor{comment}{//\ For\ FActiveGameplayEffectHandle}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}AttributeSet.h"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ FGameplayAttribute}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{CrimsonSkillTree__NodeEventBase_8h}{CrimsonSkillTree\_NodeEventBase.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}GameplayEffect.h"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ UGameplayEffect,\ FGameplayModifierInfo}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}GameplayTagContainer.h"{}}\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ FGameplayTagContainer,\ FGameplayTag}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}CrimsonSkillTree\_NodeEvent\_ApplyGameplayEffect.generated.h"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }UGameplayEffect;}
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }UAbilitySystemComponent;}
\DoxyCodeLine{00015\ \textcolor{keyword}{struct\ }FGameplayEffectSpec;\ \textcolor{comment}{//\ Forward\ declare\ for\ use\ in\ static\ method\ parameter}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00022\ USTRUCT(BlueprintType)}
\DoxyCodeLine{00023\ struct\ \mbox{\hyperlink{structFSkillTreeSimulatedAttributePayload}{FSkillTreeSimulatedAttributePayload}}\ \textcolor{comment}{//\ Example\ Payload\ Struct}}
\DoxyCodeLine{00024\ \{}
\DoxyCodeLine{00025\ \ \ \ \ GENERATED\_BODY()}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ }
\DoxyCodeLine{00028\ \ \ \ \ UPROPERTY(EditAnywhere,\ BlueprintReadWrite,\ Category\ =\ \textcolor{stringliteral}{"{}Skill\ Tree|Simulation"{}})}
\DoxyCodeLine{00029\ \ \ \ \ FGameplayAttribute\ Attribute;}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \ \ \ \ UPROPERTY(EditAnywhere,\ BlueprintReadWrite,\ Category\ =\ "{}Skill\ Tree|Simulation"{})}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{float}\ NetAdditiveChange\ =\ 0.0f;}
\DoxyCodeLine{00036\ \ \ \ \ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ Future\ extensions\ could\ include\ other\ types\ of\ changes:}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{//\ UPROPERTY(EditAnywhere,\ BlueprintReadWrite,\ Category\ =\ "{}Skill\ Tree|Simulation"{})}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{comment}{//\ float\ NetMultiplicativeChange\ =\ 1.0f;\ }}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00048\ UCLASS(Blueprintable,\ meta\ =\ (DisplayName\ =\ "{}Apply\ Gameplay\ Effect\ Event"{}))}
\DoxyCodeLine{00049\ class\ CRIMSONSKILLTREE\_API\ \mbox{\hyperlink{classUCrimsonSkillTree__NodeEvent__ApplyGameplayEffect}{UCrimsonSkillTree\_NodeEvent\_ApplyGameplayEffect}}\ :\ public\ \mbox{\hyperlink{classUCrimsonSkillTree__NodeEventBase}{UCrimsonSkillTree\_NodeEventBase}}}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ \ \ GENERATED\_BODY()}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\string~\ Static\ Utility\ Methods}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classUCrimsonSkillTree__NodeEvent__ApplyGameplayEffect_afba8bf6e3508e722c0a9c1bc620b196c}{EvaluateModifierMagnitudeAtLevel}}(\textcolor{keyword}{const}\ FGameplayModifierInfo\&\ Modifier,\ \textcolor{keywordtype}{float}\ Level,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ FGameplayEffectSpec*\ Spec\ =\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{const}\ FGameplayTag\&\ SBCMagnitudeTag\ =\ FGameplayTag());}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//\string~\ End\ Static\ Utility\ Methods}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\string~\ Properties}}
\DoxyCodeLine{00070\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Category\ =\ \textcolor{stringliteral}{"{}Gameplay\ Effect"{}})}
\DoxyCodeLine{00071\ \ \ \ \ TSubclassOf<UGameplayEffect>\ GameplayEffectToApply;}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00076\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Category\ =\ "{}Gameplay\ Effect"{})}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{bool}\ bSetGameplayEffectLevel;}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00082\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Category\ =\ "{}Gameplay\ Effect"{},\ meta\ =\ (EditCondition\ =\ "{}!bSetGameplayEffectLevel"{},\ EditConditionHides))}
\DoxyCodeLine{00083\ \ \ \ \ FGameplayTag\ SetByCallerMagnitudeTag;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00091\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Category\ =\ "{}Gameplay\ Effect"{},\ meta\ =\ (EditCondition\ =\ "{}!bSetGameplayEffectLevel"{},\ EditConditionHides))}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{float}\ SetByCallerMagnitude;}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00098\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Category\ =\ "{}Gameplay\ Effect|Description"{},\ meta\ =\ (Tooltip="{}The\ primary\ attribute\ this\ effect\ modifies,\ for\ tooltip\ generation."{}))}
\DoxyCodeLine{00099\ \ \ \ \ FGameplayAttribute\ TargetAttributeForDescription;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\string~\ End\ Properties}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classUCrimsonSkillTree__NodeEvent__ApplyGameplayEffect}{UCrimsonSkillTree\_NodeEvent\_ApplyGameplayEffect}}();}
\DoxyCodeLine{00106\ \ \ \ \ }
\DoxyCodeLine{00107\ protected:}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\string~\ UCrimsonSkillTree\_NodeEventBase\ Interface}}
\DoxyCodeLine{00109\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ OnLevelUp\_Implementation(\mbox{\hyperlink{classUCrimsonSkillTree__Node}{UCrimsonSkillTree\_Node}}*\ EmitterNode,\ int32\ NewLevel,\ int32\ OldLevel)\ override;}
\DoxyCodeLine{00110\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ OnLevelDown\_Implementation(\mbox{\hyperlink{classUCrimsonSkillTree__Node}{UCrimsonSkillTree\_Node}}*\ EmitterNode,\ int32\ NewLevel,\ int32\ OldLevel)\ override;}
\DoxyCodeLine{00111\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ OnNodeReset\_Implementation(\mbox{\hyperlink{classUCrimsonSkillTree__Node}{UCrimsonSkillTree\_Node}}*\ EmitterNode,\ int32\ PreviousLevel)\ override;}
\DoxyCodeLine{00112\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ PopulateSimulationData\_Implementation(const\ \mbox{\hyperlink{classUCrimsonSkillTree__Node}{UCrimsonSkillTree\_Node}}*\ EventContextNode,\ int32\ OriginalEffectiveLevel,\ \textcolor{keywordtype}{bool}\ bSimulatingReversal,\ \mbox{\hyperlink{structFSimulationDataCollector}{FSimulationDataCollector}}\&\ OutDataCollector)\ const\ override;}
\DoxyCodeLine{00113\ \ \ \ \ virtual\ FText\ GetTooltipDescription\_Implementation(const\ \mbox{\hyperlink{classUCrimsonSkillTree__Node}{UCrimsonSkillTree\_Node}}*\ PotentialEmitterNode)\ const\ override;}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\string~\ End\ UCrimsonSkillTree\_NodeEventBase\ Interface}}
\DoxyCodeLine{00115\ \ \ \ \ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{comment}{//\string~\ Protected\ Helper\ Methods}}
\DoxyCodeLine{00124\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ ApplyOrUpdateEffect(UAbilitySystemComponent*\ ASC,\ int32\ EffectLevel,\ const\ FGameplayTagContainer*\ SourceTags\ =\ \textcolor{keywordtype}{nullptr});}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00131\ \ \ \ \ virtual\ \textcolor{keywordtype}{void}\ RemoveEffect(UAbilitySystemComponent*\ ASC);}
\DoxyCodeLine{00132\ \ \ \ \ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordtype}{float}\ CalculateTotalAdditiveMagnitudeForAttribute(}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ TSubclassOf<UGameplayEffect>\ EffectClass,}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ FGameplayAttribute\ TargetAttribute,\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ EvaluationLevel,}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bEventSetsGELvel,\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ const\ FGameplayTag\&\ EventSetByCallerTag,}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ EventSetByCallerValueForNodeLevel,\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ EventConfiguredSBCMagnitude,}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ UAbilitySystemComponent*\ ASCForSpec,\ }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ const\ UObject*\ SourceObject)\ const;}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\string~\ End\ Protected\ Helper\ Methods}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\string~\ Protected\ Properties}}
\DoxyCodeLine{00161\ \ \ \ \ UPROPERTY(Transient)}
\DoxyCodeLine{00162\ \ \ \ \ FActiveGameplayEffectHandle\ ActiveEffectHandle;}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{comment}{//\string~\ End\ Protected\ Properties}}
\DoxyCodeLine{00164\ \};}

\end{DoxyCode}
